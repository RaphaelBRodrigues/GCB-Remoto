import React, {useEffect, useState} from 'react';
import "./index.css";

import Card from "../Card";

import { getDoctors , getDoctorSpeciality } from "./handles";
import {api} from "../../services/api";



export default () => {


    const [doctors,setDoctors] = useState([]);

    async function listDoctors(){
        const doctors = await getDoctors();
        return doctors;
    };

    // async function listDoctorSpeciality(){
    //     const specialities = await getDoctorSpeciality();
    //     console.log(specialities);
    //     return specialities;
    // };

    useEffect(()=>{
        listDoctors().then(doctors =>{
            setDoctors(doctors);
        });
    },[]);


    return (
        <section id="doctor-block">
            <div>
                {doctors.map(async (doctor)=>{
                    // const specialities = await listDoctorSpeciality();
                    return <Card doctor={doctor} specialities={false} />
                })}
            </div>
        </section>
    );
}

